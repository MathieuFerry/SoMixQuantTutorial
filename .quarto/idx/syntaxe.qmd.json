{"title":"Code organization","markdown":{"headingText":"Code organization","containsRefs":false,"markdown":"\nA TRADUIRE\n\nCe chapitre vise surtout à synthétiser quelques trucs et astuces pour se faciliter la vie dans l'utilisation de R.\n\n## La notion de \"projet\" dans RStudio\n\nTout au long de ces chapitres, nous avons créé différents scripts R rassemblés dans un dossier \"Formation R\". Une bonne pratique est de créer un \"projet\" pointant vers le dossier des scripts qui ont une cohérence ensemble (un projet de recherche par exemple), les données afférentes, etc.\n\nCe dossier projet peut être créé en cliquant en haut à droite sur \"Project: (None)\", puis \"New Project\" et ici \"Existing Directory\" (on sélectionnera alors le dossier Formation R.\n\nCe dossier peut contenir plusieurs sous-dossiers :\n\n-   Script\n\n-   Data\n\n-   Output (là où éventuellement on rassemble ses graphiques et autres jolis tableaux)\n\nL'intérêt de fonctionner par projet est que RStudio va ensuite automatiquement pointer vers le dossier racine (Formation R) quand le projet est ouvert et on accèdera plus facilement à ses fichiers dans le Files et en écrivant le chemin d'accès dans ses scripts.\n\n## Organiser son code et ses fichiers\n\nIl est assez courant de commencer un projet et d'y revenir des mois voire des années plus tard.\n\nQue faire quand on a tout oublié ?\n\nSi on a bien structuré son code, ce qu'on peut faire en ajoutant des sections, dans son script, on s'y retrouve plus facilement :\n\n```{r}\n#| eval: false\n\n# Ceci marque une section ------------------------------\n\n```\n\nOn peut aussi commenter allégrement ses différentes opérations pour s'y retrouver :\n\n```{r}\n#| eval: false\n\n#Le dièse permet d'initier un commentaire\n# Quand on doit faire un long commentaire,\n# on peut écrire sans dièse, puis surligner le tout,\n# et taper Cmd (ou Ctrl)+Maj+C et le bloc sera mis en\n# commentaire !\n\n\n```\n\nIl est aussi assez courant de créer différents scripts pour différents types d'opérations (mais ça dépend de ses habitudes), par exemple :\n\n-   Un script ou des script(s) où je réalise tous les recodages nécessaires à l'analyse et j'enregistre ma base avec les nouvelles variables (en format R, rds plutôt).\n\n-   Un ou des script(s) où je réalise toutes les opérations d'analyse.\n\nOn pourra si on le souhaite créer différents fichiers suivant l'avancement du projet et indiquer la date dans le titre. Ainsi, le fichier de recodage pourra s'appeler \"20250602Recodages.R\" (la date est mise dans le format AAAAMMJJ pour être sur que les fichiers soient présentés du plus ancien au plus récent dans le dossier où ils sont stockés.\n\n## Obtenir de l'aide\n\nListons ici quelques manières d'avoir de l'aide quand le script buggue :\n\n-   Le premier réflexe est de chercher comment s'utilise une fonction dans R :\n\n```{r}\n#| eval: false\n?mean #le point d'interrogation ouvre la page de description de la fonction\n```\n\n-   On peut aussi taper son problème dans son moteur de recherche, qui renvoie souvent vers le forum Stackoverflow (mais pas que) où le problème auquel on fait face a été discuté (généralement, en anglais)\n\n-   On peut consulter les guides de formation à R mentionnés sur la page de présentation de ce guide.\n\n-   ...\n\n## La jointure de différents fichiers statistiques\n\nNous n'avons pas ici parlé de la jointure de différents fichiers statistiques, opération pourtant courante. Cette page de utilitR est très complète pour mener ces opérations sans trop se prendre la tête : <https://book.utilitr.org/03_Fiches_thematiques/Fiche_joindre_donnees.html>.\n\n## Les étiquettes de variables et de valeurs\n\nEnfin, nous avons ici travaillé à partir de variables qui n'ont pas d'étiquettes et dont les modalités des variables catégorielles n'ont pas de labels. C'est pourtant possible (voire courant, si on charge un fichier Stata dans R) et plutôt pratique :\n\n-   On a ainsi des étiquettes déjà prêtes pour les tableaux / graphiques\n\n-   On va bien plus vite dans le recodage et surtout on évite les erreurs (recoder 1 en 3 va plus vite et comprend moins de risque d'erreur que recoder \"Cadres et professions scientifiques\" en \"Classes supérieures\").\n\nOn se reportera aux Chapitres [11](https://larmarange.github.io/guide-R/manipulation/etiquettes-variables.html) et [12](https://larmarange.github.io/guide-R/manipulation/etiquettes-valeurs.html) de guide-R qui introduisent à ces concepts et leur usage.\n\n## Exercices\n\n::: {.callout-note title=\"Exercice\" icon=\"false\"}\nCréer un Projet pointant sur le dossier de la Formation R. Commenter et créer des sections dans l'un de ses scripts. Pas facile ? D'où l'intérêt de le faire au fur et à mesure :)\n:::\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":false,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"syntaxe.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","editor":"visual","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}